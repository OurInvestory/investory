# ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë¬¸ì„œ (Architecture)

## 1. ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ê°œìš”
InvestoryëŠ” ëª¨ì˜íˆ¬ì í•™ìŠµ í”Œë«í¼ìœ¼ë¡œ, í”„ë¡ íŠ¸ì—”ë“œ-ë°±ì—”ë“œ ë¶„ë¦¬ ì•„í‚¤í…ì²˜ë¥¼ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

### 1.2 ì•„í‚¤í…ì²˜ ì›ì¹™
- **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: ë„ë©”ì¸ë³„ ëª¨ë“ˆí™”
- **ê³„ì¸µí˜• ì•„í‚¤í…ì²˜**: Controller â†’ Service â†’ Repository
- **RESTful API**: í‘œì¤€ HTTP ë©”ì„œë“œ ë° ìƒíƒœ ì½”ë“œ ì‚¬ìš©
- **Stateless**: JWT ê¸°ë°˜ ë¬´ìƒíƒœ ì¸ì¦

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Client Layer                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   Web App   â”‚  â”‚ Mobile App  â”‚  â”‚   Desktop   â”‚              â”‚
â”‚  â”‚   (React)   â”‚  â”‚  (Future)   â”‚  â”‚  (Future)   â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTPS / REST API
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Infrastructure Layer                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Nginx (Reverse Proxy)                 â”‚  â”‚
â”‚  â”‚                   - SSL Termination                        â”‚  â”‚
â”‚  â”‚                   - Load Balancing                         â”‚  â”‚
â”‚  â”‚                   - Static File Serving                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Application Layer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  Spring Boot Application                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                  Security Layer                      â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   - JWT Authentication Filter                        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   - Security Configuration                           â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚                  API Layer (Controllers)             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   Auth â”‚ User â”‚ Stock â”‚ Order â”‚ Portfolio â”‚ WMTI   â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚               Business Layer (Services)              â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   AuthService â”‚ UserService â”‚ StockService â”‚ ...    â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚              Data Access Layer (Repositories)        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚   JPA Repositories â”‚ Custom Queries                 â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Data Layer                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚     MySQL 8     â”‚          â”‚     Redis 7     â”‚               â”‚
â”‚  â”‚   (Primary DB)  â”‚          â”‚   (Cache/Token) â”‚               â”‚
â”‚  â”‚                 â”‚          â”‚                 â”‚               â”‚
â”‚  â”‚  - Users        â”‚          â”‚  - Session      â”‚               â”‚
â”‚  â”‚  - Stocks       â”‚          â”‚  - Token Store  â”‚               â”‚
â”‚  â”‚  - Orders       â”‚          â”‚  - Rate Limit   â”‚               â”‚
â”‚  â”‚  - Holdings     â”‚          â”‚                 â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ë°±ì—”ë“œ ì•„í‚¤í…ì²˜

### 3.1 íŒ¨í‚¤ì§€ êµ¬ì¡°

```
com.investory.backend
â”œâ”€â”€ domain/                          # ë„ë©”ì¸ ê³„ì¸µ
â”‚   â”œâ”€â”€ auth/                        # ì¸ì¦ ë„ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ service/
â”‚   â”œâ”€â”€ user/                        # ì‚¬ìš©ì ë„ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ service/
â”‚   â”œâ”€â”€ stock/                       # ì£¼ì‹ ë„ë©”ì¸
â”‚   â”œâ”€â”€ portfolio/                   # í¬íŠ¸í´ë¦¬ì˜¤ ë„ë©”ì¸
â”‚   â”œâ”€â”€ order/                       # ì£¼ë¬¸ ë„ë©”ì¸
â”‚   â”œâ”€â”€ wmti/                        # WMTI ë„ë©”ì¸
â”‚   â””â”€â”€ reward/                      # ë¦¬ì›Œë“œ ë„ë©”ì¸
â”‚
â””â”€â”€ global/                          # ì „ì—­ ê³„ì¸µ
    â”œâ”€â”€ common/
    â”‚   â””â”€â”€ dto/
    â”‚       â”œâ”€â”€ ApiResponse.java     # ê³µí†µ ì‘ë‹µ í˜•ì‹
    â”‚       â””â”€â”€ BaseEntity.java      # ê³µí†µ ì—”í‹°í‹°
    â”œâ”€â”€ config/
    â”‚   â”œâ”€â”€ JpaConfig.java           # JPA ì„¤ì •
    â”‚   â”œâ”€â”€ RedisConfig.java         # Redis ì„¤ì •
    â”‚   â”œâ”€â”€ SecurityConfig.java      # ë³´ì•ˆ ì„¤ì •
    â”‚   â””â”€â”€ SwaggerConfig.java       # API ë¬¸ì„œ ì„¤ì •
    â”œâ”€â”€ exception/
    â”‚   â”œâ”€â”€ BusinessException.java   # ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ˆì™¸
    â”‚   â”œâ”€â”€ ErrorCode.java           # ì—ëŸ¬ ì½”ë“œ ì •ì˜
    â”‚   â”œâ”€â”€ GlobalExceptionHandler   # ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬
    â”‚   â””â”€â”€ dto/
    â”‚       â””â”€â”€ ErrorResponse.java
    â””â”€â”€ security/
        â”œâ”€â”€ JwtTokenProvider.java    # JWT í† í° ì²˜ë¦¬
        â”œâ”€â”€ JwtAuthenticationFilter  # JWT ì¸ì¦ í•„í„°
        â””â”€â”€ CustomUserDetailsService # ì‚¬ìš©ì ìƒì„¸ ì„œë¹„ìŠ¤
```

### 3.2 ê³„ì¸µë³„ ì±…ì„

| ê³„ì¸µ | ì±…ì„ | ì˜ˆì‹œ |
|------|------|------|
| **Controller** | HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬, ìœ íš¨ì„± ê²€ì¦ | AuthController |
| **Service** | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, íŠ¸ëœì­ì…˜ ê´€ë¦¬ | AuthService |
| **Repository** | ë°ì´í„° ì•¡ì„¸ìŠ¤, CRUD ì‘ì—… | UserRepository |
| **Entity** | ë„ë©”ì¸ ëª¨ë¸, ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ | User, Stock |
| **DTO** | ë°ì´í„° ì „ì†¡ ê°ì²´ | AuthRequest, AuthResponse |

---

## 4. í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

### 4.1 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
frontend/src
â”œâ”€â”€ components/                    # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ common/                   # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â””â”€â”€ Modal.tsx
â”‚   â”œâ”€â”€ layout/                   # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ Navbar.tsx
â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â””â”€â”€ domain/                   # ë„ë©”ì¸ë³„ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ stock/
â”‚       â”œâ”€â”€ order/
â”‚       â””â”€â”€ portfolio/
â”‚
â”œâ”€â”€ pages/                        # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx
â”‚   â”‚   â””â”€â”€ SignupPage.tsx
â”‚   â”œâ”€â”€ home/
â”‚   â”œâ”€â”€ stock/
â”‚   â”œâ”€â”€ order/
â”‚   â”œâ”€â”€ portfolio/
â”‚   â””â”€â”€ wmti/
â”‚
â”œâ”€â”€ services/                     # API ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ api.ts                   # Axios ì¸ìŠ¤í„´ìŠ¤
â”‚   â”œâ”€â”€ authService.ts
â”‚   â”œâ”€â”€ stockService.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ stores/                       # Zustand ìŠ¤í† ì–´
â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”œâ”€â”€ stockStore.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ hooks/                        # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â””â”€â”€ useDebounce.ts
â”‚
â”œâ”€â”€ types/                        # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ stock.ts
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ utils/                        # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ format.ts
â”‚   â””â”€â”€ validation.ts
â”‚
â””â”€â”€ App.tsx
```

### 4.2 ìƒíƒœ ê´€ë¦¬ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    State Management                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚    Zustand      â”‚    â”‚     React Query         â”‚    â”‚
â”‚  â”‚  (Client State) â”‚    â”‚    (Server State)       â”‚    â”‚
â”‚  â”‚                 â”‚    â”‚                         â”‚    â”‚
â”‚  â”‚  - Auth State   â”‚    â”‚  - Stocks Data         â”‚    â”‚
â”‚  â”‚  - UI State     â”‚    â”‚  - Orders Data         â”‚    â”‚
â”‚  â”‚  - Theme        â”‚    â”‚  - Portfolio Data      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  - Caching             â”‚    â”‚
â”‚                         â”‚  - Background Sync     â”‚    â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ì¸í”„ë¼ ì•„í‚¤í…ì²˜

### 5.1 Docker êµ¬ì„±

```yaml
# docker-compose.yml
services:
  mysql:
    image: mysql:8
    environment:
      - MYSQL_ROOT_PASSWORD
      - MYSQL_DATABASE
    volumes:
      - mysql_data:/var/lib/mysql
    healthcheck:
      test: ["CMD", "mysqladmin", "ping"]

  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]

  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    depends_on:
      mysql:
        condition: service_healthy
      redis:
        condition: service_healthy
    environment:
      - SPRING_PROFILES_ACTIVE=prod

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    depends_on:
      - backend
```

### 5.2 ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Docker Network                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚ Frontend â”‚    â”‚ Backend  â”‚    â”‚  MySQL   â”‚       â”‚
â”‚   â”‚  :80     â”‚â”€â”€â”€â–¶â”‚  :8080   â”‚â”€â”€â”€â–¶â”‚  :3306   â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                        â”‚                              â”‚
â”‚                        â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Redis   â”‚       â”‚
â”‚                                   â”‚  :6379   â”‚       â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 6.1 ì¸ì¦ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client â”‚         â”‚  Nginx  â”‚         â”‚ Backend â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚                   â”‚                   â”‚
    â”‚  POST /api/auth/login               â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
    â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚                   â”‚                   â”‚ Validate credentials
    â”‚                   â”‚                   â”‚ Generate JWT tokens
    â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
    â”‚  { accessToken, refreshToken }        â”‚
    â”‚                   â”‚                   â”‚
    â”‚  GET /api/stocks (with Bearer token) â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                   â”‚
    â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
    â”‚                   â”‚                   â”‚ JWT Filter validates
    â”‚                   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚
    â”‚  { stocks data }  â”‚                   â”‚
```

### 6.2 JWT í† í° êµ¬ì¡°

```
Access Token (1ì‹œê°„)
â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ alg: HS512
â”‚   â””â”€â”€ typ: JWT
â”œâ”€â”€ Payload
â”‚   â”œâ”€â”€ sub: userId
â”‚   â”œâ”€â”€ loginId: "testuser"
â”‚   â”œâ”€â”€ role: "USER"
â”‚   â”œâ”€â”€ iat: ë°œê¸‰ì‹œê°„
â”‚   â””â”€â”€ exp: ë§Œë£Œì‹œê°„
â””â”€â”€ Signature

Refresh Token (7ì¼)
â”œâ”€â”€ Header
â”œâ”€â”€ Payload
â”‚   â”œâ”€â”€ sub: userId
â”‚   â””â”€â”€ exp: ë§Œë£Œì‹œê°„
â””â”€â”€ Signature
```

---

## 7. ë°ì´í„° íë¦„

### 7.1 ì£¼ë¬¸ ì²˜ë¦¬ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client â”‚â”€â”€â”€â–¶â”‚Controllerâ”‚â”€â”€â”€â–¶â”‚OrderService â”‚â”€â”€â”€â–¶â”‚Repositoryâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                              â–¼             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚StockService â”‚  â”‚PortfolioSvc â”‚
                    â”‚ (ê°€ê²© ì¡°íšŒ)  â”‚  â”‚ (ë³´ìœ  ì—…ë°ì´íŠ¸)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                                     â–¼             â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ Holding  â”‚  â”‚   User   â”‚
                              â”‚ Update   â”‚  â”‚ Exp ++   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. í™•ì¥ì„± ê³ ë ¤

### 8.1 ìˆ˜í‰ í™•ì¥

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Load Balancer  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                 â–¼                 â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Backend  â”‚      â”‚ Backend  â”‚      â”‚ Backend  â”‚
    â”‚   #1     â”‚      â”‚   #2     â”‚      â”‚   #3     â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                 â”‚                 â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  MySQL   â”‚              â”‚  Redis   â”‚
        â”‚ Primary  â”‚              â”‚ Cluster  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 í–¥í›„ í™•ì¥ ê³„íš

1. **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¶„ë¦¬**
   - Auth Service
   - Trading Service
   - User Service
   - Notification Service

2. **ë©”ì‹œì§€ í ë„ì…**
   - Apache Kafka / RabbitMQ
   - ë¹„ë™ê¸° ì£¼ë¬¸ ì²˜ë¦¬
   - ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜

3. **ìºì‹± ì „ëµ ê°•í™”**
   - ì£¼ì‹ ì‹œì„¸ ìºì‹±
   - ì‚¬ìš©ì ì„¸ì…˜ ìºì‹±
   - API ì‘ë‹µ ìºì‹±
